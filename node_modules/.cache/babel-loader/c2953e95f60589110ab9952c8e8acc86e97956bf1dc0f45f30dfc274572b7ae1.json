{"ast":null,"code":"import React,{useState}from'react';import'./App.css';import{Todolist}from\"./Todolist\";import{v1}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";function App(){const todolistID_1=v1();const todolistID_2=v1();const[todolists,setTodolists]=useState([{id:todolistID_1,title:\"What to learn\",filter:\"all\"},{id:todolistID_2,title:\"What to buy\",filter:\"all\"}]);const[tasks,setTasks]=useState({[todolistID_1]:[{id:v1(),title:\"HTML\",isDone:true},{id:v1(),title:\"React\",isDone:false},{id:v1(),title:\"CSS\",isDone:true},{id:v1(),title:\"JS\",isDone:true},{id:v1(),title:\"Redux\",isDone:false}],[todolistID_2]:[{id:v1(),title:\"Milk\",isDone:false},{id:v1(),title:\"Water\",isDone:false},{id:v1(),title:\"Bread\",isDone:true},{id:v1(),title:\"Popcorn\",isDone:true},{id:v1(),title:\"Bear\",isDone:false}]});const filteredTasks=(todolistID,filterValue)=>{const NextState=todolists.map(tl=>tl.id===todolistID?{...tl,filter:filterValue}:tl);setTodolists(NextState);};const addTask=(todolistID,title)=>{const newTask={id:v1(),title:title,isDone:false};setTasks({...tasks,[todolistID]:[newTask,...tasks[todolistID]]});};const removeTask=(todolistID,taskId)=>{const nextState={...tasks,[todolistID]:tasks[todolistID].filter(t=>t.id!==taskId)};setTasks(nextState);};const changeStatusTask=(todolistID,taskId,isDone)=>{const nextState={...tasks,[todolistID]:tasks[todolistID].map(t=>t.id===taskId?{...t,isDone}:t)};setTasks(nextState);};const todolistComponents=todolists.map(t=>{let currentTasks=tasks[t.id];if(t.filter===\"active\"){currentTasks=currentTasks.filter(t=>!t.isDone);}if(t.filter===\"completed\"){currentTasks=currentTasks.filter(t=>t.isDone);}return/*#__PURE__*/_jsx(Todolist,{todolistID:t.id,title:t.title,tasks:currentTasks,filteredTasks:filteredTasks,removeTask:removeTask,changeStatusTask:changeStatusTask,addTask:addTask},t.id);});return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:todolistComponents});}export default App;","map":{"version":3,"names":["React","useState","Todolist","v1","jsx","_jsx","App","todolistID_1","todolistID_2","todolists","setTodolists","id","title","filter","tasks","setTasks","isDone","filteredTasks","todolistID","filterValue","NextState","map","tl","addTask","newTask","removeTask","taskId","nextState","t","changeStatusTask","todolistComponents","currentTasks","className","children"],"sources":["/Users/galyamov/Documents/INCUBATOR/Front-end/todolist/src/App.tsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport './App.css';\r\nimport {Todolist} from \"./Todolist\";\r\nimport {v1} from \"uuid\";\r\n\r\nexport type TasksType = {\r\n    id: string\r\n    title: string\r\n    isDone: boolean\r\n}\r\n\r\nexport type FilteredTasksType = \"all\" | \"active\" | \"completed\"\r\n\r\ntype TodolistType = {\r\n    id: string\r\n    title: string\r\n    filter: FilteredTasksType\r\n}\r\n\r\ntype TasksStateType = {\r\n    [todolistID: string]: TasksType[]\r\n}\r\n\r\n\r\nfunction App() {\r\n\r\n\r\n    const todolistID_1 = v1()\r\n    const todolistID_2 = v1()\r\n\r\n\r\n    const [todolists, setTodolists] = useState<TodolistType[]>([\r\n        {id: todolistID_1, title: \"What to learn\", filter: \"all\"},\r\n        {id: todolistID_2, title: \"What to buy\", filter: \"all\"},\r\n    ])\r\n\r\n    const [tasks, setTasks] = useState<TasksStateType>({\r\n        [todolistID_1]: [\r\n            {id: v1(), title: \"HTML\", isDone: true},\r\n            {id: v1(), title: \"React\", isDone: false},\r\n            {id: v1(), title: \"CSS\", isDone: true},\r\n            {id: v1(), title: \"JS\", isDone: true},\r\n            {id: v1(), title: \"Redux\", isDone: false},\r\n        ],\r\n        [todolistID_2]: [\r\n            {id: v1(), title: \"Milk\", isDone: false},\r\n            {id: v1(), title: \"Water\", isDone: false},\r\n            {id: v1(), title: \"Bread\", isDone: true},\r\n            {id: v1(), title: \"Popcorn\", isDone: true},\r\n            {id: v1(), title: \"Bear\", isDone: false},\r\n        ],\r\n    })\r\n\r\n\r\n    const filteredTasks = (todolistID: string, filterValue: FilteredTasksType) => {\r\n        const NextState: TodolistType[] = todolists.map(tl => tl.id === todolistID ? {...tl, filter: filterValue} : tl)\r\n        setTodolists(NextState)\r\n    }\r\n    const addTask = (todolistID: string, title: string) => {\r\n\r\n        const newTask = {id: v1(), title: title, isDone: false}\r\n\r\n        setTasks({\r\n            ...tasks, [todolistID]: [newTask, ...tasks[todolistID]],\r\n        })\r\n    }\r\n    const removeTask = (todolistID: string, taskId: string) => {\r\n        const nextState: TasksStateType = {...tasks, [todolistID]: tasks[todolistID].filter(t => t.id !== taskId)}\r\n        setTasks(nextState)\r\n    }\r\n    const changeStatusTask = (todolistID: string, taskId: string, isDone: boolean) => {\r\n        const nextState: TasksStateType = {\r\n            ...tasks,\r\n            [todolistID]: tasks[todolistID].map(t => t.id === taskId ? {...t, isDone} : t)\r\n        }\r\n        setTasks(nextState)\r\n    }\r\n\r\n    const todolistComponents = todolists.map(t => {\r\n\r\n        let currentTasks = tasks[t.id]\r\n        if (t.filter === \"active\") {\r\n            currentTasks = currentTasks.filter(t => !t.isDone)\r\n        }\r\n        if (t.filter === \"completed\") {\r\n            currentTasks = currentTasks.filter(t => t.isDone)\r\n        }\r\n\r\n        return (\r\n            <Todolist\r\n                key={t.id}\r\n                todolistID={t.id}\r\n                title={t.title}\r\n                tasks={currentTasks}\r\n                filteredTasks={filteredTasks}\r\n                removeTask={removeTask}\r\n                changeStatusTask={changeStatusTask}\r\n                addTask={addTask}\r\n            />\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {todolistComponents}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}